import traverse from"traverse";let styleOptions={level:{caseControl:"upper"},event:{prefix:""},message:{prefixMessage:"\n----- received following messages -----\n",indentStyle:"",nonInfoIndentStyle:"    > ",endStyle:", ",nonInfoEndStyle:"\n"}};export function setLevelStyles(options){traverse(styleOptions.level).forEach(function(x){this.key===options.key&&this.update(options.value)})}export function setEventStyles(options){traverse(styleOptions.event).forEach(function(x){this.key===options.key&&this.update(options.value)})}export function setMessageStyles(options){traverse(styleOptions.message).forEach(function(x){this.key===options.key&&this.update(options.value)})}export function stylize({level,service,event="",message=[""]}){let _level=(()=>{let _caseControl=styleOptions.level.caseControl;return"upper"===_caseControl?level.toUpperCase():"lower"===_caseControl?level.toLowerCase():"capitalize"===_caseControl?level.charAt(0).toUpperCase()+level.slice(1).toLowerCase():level})(),_event=(()=>{if(!event)return"";let prefix=styleOptions.event.prefix||"";return`${prefix}${event}`})(),_message=(()=>{let{prefixMessage,indentStyle,nonInfoIndentStyle,endStyle,nonInfoEndStyle}=styleOptions.message,_normalized=message.map(line=>"object"==typeof line?JSON.stringify(line,null,2):String(line));return"INFO"!==_level?prefixMessage+_normalized.map(line=>`${nonInfoIndentStyle}${line}`).join(nonInfoEndStyle):_normalized.map(line=>`${indentStyle}${line}`).join(endStyle)})();return{level:_level,service,event:_event,message:_message}}