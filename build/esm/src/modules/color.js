import chalk from"chalk";import stripAnsi from"strip-ansi";import traverse from"traverse";let levelColor={debug:chalk.gray.dim,info:chalk.cyan,warn:chalk.yellow,error:chalk.red,fatal:chalk.redBright.bold,success:chalk.green,default:chalk.white},serviceColor=chalk.blueBright,eventColor=chalk.magentaBright,messageColor={debug:chalk.gray.dim,info:chalk.white,warn:chalk.yellow,error:chalk.red,fatal:chalk.redBright.bold};export function setLevelColor(level,color){traverse(levelColor).forEach(function(x){this.key===level.toLowerCase()&&this.update(color)})}export function setServiceColor(color){serviceColor=color}export function setEventColor(color){eventColor=color}export function setMessageColor(level,color){traverse(messageColor).forEach(function(x){this.key===level.toLowerCase()&&this.update(color)})}export function colorize({level,service,event="",message=[""]}){let levelFn=levelColor[level.toLowerCase()]||levelColor.default,messageFn=messageColor[level.toLowerCase()]||chalk.white,_level=levelFn(level),_service=serviceColor(service);return{level:_level,service:_service,event:event?eventColor(event):"",message:[message].map(line=>messageFn(line))}}export function decolorize(str){return stripAnsi(str)}